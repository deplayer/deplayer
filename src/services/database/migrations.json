[{"sql":["CREATE TABLE IF NOT EXISTS \"media\" (\n\t\"id\" text PRIMARY KEY NOT NULL,\n\t\"title\" text,\n\t\"artist\" json NOT NULL,\n\t\"type\" text NOT NULL,\n\t\"album\" json NOT NULL,\n\t\"cover\" json NOT NULL,\n\t\"stream\" json NOT NULL,\n\t\"duration\" integer NOT NULL,\n\t\"playCount\" integer NOT NULL,\n\t\"genre\" text,\n\t\"track\" integer,\n\t\"year\" integer\n);\n","\nCREATE TABLE IF NOT EXISTS \"queue\" (\n\t\"id\" text PRIMARY KEY NOT NULL,\n\t\"trackIds\" json NOT NULL,\n\t\"randomTrackIds\" json NOT NULL,\n\t\"currentPlaying\" text,\n\t\"repeat\" boolean,\n\t\"shuffle\" boolean,\n\t\"nextSongId\" text,\n\t\"prevSongId\" text\n);\n","\nCREATE TABLE IF NOT EXISTS \"settings\" (\n\t\"id\" text PRIMARY KEY NOT NULL,\n\t\"settings\" json NOT NULL\n);\n"],"bps":true,"folderMillis":1728946028438,"hash":"20b611a4f1eccaf890d11e846aadc5f5b0d1a5f5ab8f16945637f50c2bb5b42c"},{"sql":["ALTER TABLE \"media\" ALTER COLUMN \"duration\" SET DATA TYPE real;"],"bps":true,"folderMillis":1731073136613,"hash":"1f8210b7151ad00723940a1aa56450b84042bf60865d0e288ac81515ea7c4c26"},{"sql":["ALTER TABLE \"media\" ALTER COLUMN \"cover\" DROP NOT NULL;"],"bps":true,"folderMillis":1731073346364,"hash":"892da1b3b16e67c7fd0215442dd2ed7ff051a6c8ee4bea516ad87c2b8307d6b6"},{"sql":["ALTER TABLE \"media\" ADD COLUMN \"genres\" json;"],"bps":true,"folderMillis":1731363562060,"hash":"48be69385f2dd0f2bacecce2ba4da8d01eb57c8af214ecf309c075fcf531a57e"},{"sql":["ALTER TABLE \"media\" DROP COLUMN IF EXISTS \"genre\";"],"bps":true,"folderMillis":1731363811889,"hash":"2e41d3fd735abc8140d3611bc32bdf12c18f8ac8eb808db24e0caf4f697b2ae1"},{"sql":["CREATE TABLE IF NOT EXISTS \"smart_playlist\" (\n\t\"id\" text PRIMARY KEY NOT NULL,\n\t\"name\" text NOT NULL,\n\t\"filters\" json NOT NULL,\n\t\"createdAt\" timestamp DEFAULT now() NOT NULL,\n\t\"updatedAt\" timestamp DEFAULT now() NOT NULL\n);\n","\nALTER TABLE \"media\" ADD COLUMN \"createdAt\" timestamp DEFAULT now() NOT NULL;","\nALTER TABLE \"media\" ADD COLUMN \"updatedAt\" timestamp DEFAULT now() NOT NULL;","\nALTER TABLE \"queue\" ADD COLUMN \"createdAt\" timestamp DEFAULT now() NOT NULL;","\nALTER TABLE \"queue\" ADD COLUMN \"updatedAt\" timestamp DEFAULT now() NOT NULL;","\nALTER TABLE \"settings\" ADD COLUMN \"createdAt\" timestamp DEFAULT now() NOT NULL;","\nALTER TABLE \"settings\" ADD COLUMN \"updatedAt\" timestamp DEFAULT now() NOT NULL;"],"bps":true,"folderMillis":1731402823696,"hash":"ead089596490914a4f18333f546881becb7bebd1c3e8859074ae967e52e4a20f"},{"sql":["CREATE TABLE IF NOT EXISTS \"playlist\" (\n\t\"id\" text PRIMARY KEY NOT NULL,\n\t\"name\" text NOT NULL,\n\t\"trackIds\" json NOT NULL\n);\n"],"bps":true,"folderMillis":1731404056034,"hash":"aa321b4dc0d8644874afcd99e3690753fb531f96434522f3f8a18027532c9c70"},{"sql":["ALTER TABLE \"playlist\" ADD COLUMN \"createdAt\" timestamp DEFAULT now() NOT NULL;","\nALTER TABLE \"playlist\" ADD COLUMN \"updatedAt\" timestamp DEFAULT now() NOT NULL;"],"bps":true,"folderMillis":1731483325792,"hash":"e9b0b5c15f748adb231bb5e1ccecad02849ebdaa5e3288f24228b13412b570db"},{"sql":["CREATE TABLE IF NOT EXISTS \"peer\" (\n\t\"id\" text PRIMARY KEY NOT NULL,\n\t\"roomCode\" text NOT NULL,\n\t\"username\" text NOT NULL,\n\t\"createdAt\" timestamp DEFAULT now() NOT NULL,\n\t\"updatedAt\" timestamp DEFAULT now() NOT NULL\n);\n"],"bps":true,"folderMillis":1731925968759,"hash":"188eba061bb6039a0f85c9aa71972e608aec9e295e2505e45284c82f8c9899a4"},{"sql":["ALTER TABLE \"peer\" ADD CONSTRAINT \"peer_roomCode_username_unique\" UNIQUE(\"roomCode\",\"username\");"],"bps":true,"folderMillis":1731926909122,"hash":"b343d593f97469d10292fda13dfca502ac0fb0d24464a768760c04d2735ad05d"},{"sql":["ALTER TABLE \"playlist\" ADD COLUMN \"randomTrackIds\" json NOT NULL;","\nALTER TABLE \"playlist\" ADD COLUMN \"currentPlaying\" text;","\nALTER TABLE \"playlist\" ADD COLUMN \"repeat\" boolean;","\nALTER TABLE \"playlist\" ADD COLUMN \"shuffle\" boolean;"],"bps":true,"folderMillis":1732201983875,"hash":"47904fb4f79fc29c5c46c5b37a29308fc62d5713573a0f068a9df7af6ea1be1f"},{"sql":["CREATE TABLE IF NOT EXISTS \"room\" (\n\t\"code\" text PRIMARY KEY NOT NULL,\n\t\"createdAt\" timestamp DEFAULT now() NOT NULL,\n\t\"updatedAt\" timestamp DEFAULT now() NOT NULL\n);\n"],"bps":true,"folderMillis":1732542800940,"hash":"dfe7eaa354d267fda4d29e5f96a78ee11bb8ca99a800753a5c866927c0d8127d"},{"sql":["ALTER TABLE \"room\" RENAME COLUMN \"code\" TO \"id\";"],"bps":true,"folderMillis":1732542823353,"hash":"07f380f96c5ea7fa0b36129bac3d0ee8c38c289c09fd44e01f0628f2cc57e262"},{"sql":["DO $$ BEGIN\n ALTER TABLE \"peer\" ADD CONSTRAINT \"peer_roomCode_room_id_fk\" FOREIGN KEY (\"roomCode\") REFERENCES \"public\".\"room\"(\"id\") ON DELETE no action ON UPDATE no action;\nEXCEPTION\n WHEN duplicate_object THEN null;\nEND $$;\n"],"bps":true,"folderMillis":1732543828904,"hash":"fac99e2ad91aa47a98ff5922a0d40737f7e3286f0993663e7ca2bef5b474881f"},{"sql":["ALTER TABLE \"peer\" DROP CONSTRAINT \"peer_roomCode_room_id_fk\";\n","\nDO $$ BEGIN\n ALTER TABLE \"peer\" ADD CONSTRAINT \"peer_roomCode_room_id_fk\" FOREIGN KEY (\"roomCode\") REFERENCES \"public\".\"room\"(\"id\") ON DELETE cascade ON UPDATE no action;\nEXCEPTION\n WHEN duplicate_object THEN null;\nEND $$;\n"],"bps":true,"folderMillis":1732543853593,"hash":"6919f0be1b648caad2ba808070e53d2fdadf868e33c3fb04db61da8429488e63"},{"sql":["ALTER TABLE \"peer\" DROP CONSTRAINT \"peer_roomCode_username_unique\";"],"bps":true,"folderMillis":1733305283481,"hash":"ce7983bceb557ecbf5573f61e3e4f885e444f4126dada14c73b2e6fd28ac6f1b"}]